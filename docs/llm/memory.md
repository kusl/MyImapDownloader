Purpose & context
Kushal is developing MyImapDownloader, a .NET 10 email archiving application designed for long-term backup and preservation of email data. The primary objective is creating a robust, safe archival system that operates in read-only mode on IMAP servers, ensuring emails are never deleted from either remote servers or local storage. The application currently manages a 35GB archive across multiple email accounts and is designed to scale to hundreds of gigabytes. Success is measured by reliable delta synchronization, efficient deduplication, and maintaining data integrity while providing a foundation for future search capabilities.
Current state
The MyImapDownloader application is actively operational with a working 35GB email archive. The system demonstrates effective delta synchronization and deduplication features, with SQLite database files being the only components modified during runs rather than re-downloading existing emails. The SQLite index maintains excellent efficiency at around 190KB relative to the 35GB of actual email data. The application uses cross-platform .NET 10 architecture with OpenTelemetry observability, Polly resilience patterns, and XDG-compliant directory structures. Documentation has been recently updated to accurately reflect the implemented codebase, including comprehensive README and Implementation Summary files.
On the horizon
Kushal is planning to develop an email search system that will enable fast querying across the growing archive. A comprehensive business requirements document has been created focusing purely on business needs rather than technical implementation, keeping technology choices (programming language, database, interface type) open for future decisions. The search system will need to handle both structured searches (sender, recipient, subject, date ranges) and full-text content searches with specific performance targets including sub-500ms response times for structured queries and sub-1-second response times for full-text searches on current archive sizes.
Key learnings & principles
The application architecture prioritizes safety above all else - it never deletes emails and operates exclusively in read-only mode on IMAP servers. Append-only local storage with atomic write patterns ensures crash safety and data integrity. The system has proven that SQLite-backed indexing can remain extremely lightweight relative to actual email data while supporting efficient deduplication via Message-ID indexing. Self-healing database recovery and robust error handling using circuit breakers have emerged as critical components for long-term reliability in email archival scenarios.
Approach & patterns
The application follows a six-step delta synchronization algorithm that ensures only new emails are downloaded while maintaining data consistency. UIDVALIDITY handling provides resilience against server-side changes. The system uses atomic write patterns with temporary file cleanup, moving files from tmp/ to cur/ directories to prevent corruption. OpenTelemetry instrumentation provides comprehensive observability with metrics, spans, and JSONL output formats. The architecture emphasizes read-only operations, robust deduplication, and resilience patterns to handle network issues and server inconsistencies gracefully.
Tools & resources
The application is built on .NET 10 with cross-platform compatibility. Key technologies include SQLite for indexing and metadata storage, OpenTelemetry for observability and telemetry, and Polly for implementing retry logic and circuit breaker patterns. The system stores emails as .eml files with .meta.json sidecar files, following XDG directory specifications for configuration and data storage.
